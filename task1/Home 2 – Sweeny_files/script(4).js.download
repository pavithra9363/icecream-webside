(function ($) {

    const wdtTableHandler = function($scope, $) {

        const $tableContainer = $scope.find('.elementor-widget-wdt-table');
        const $scopeId        = $scope.data('id');
        const $tableSettings  = $scope.data('settings');
        const $tableItem      = $scope.find('#wdt-table-div-'+$scopeId);
        const $tableClassId   = $scope.find('.wdt-datatable-id-'+$scopeId);
        let $table_search;
        let $table_filter;
        let $table_sort;

        $table_search = (typeof($tableSettings['enable_table_search']) !== "undefined" && $tableSettings['enable_table_search'] !== null) ? $tableSettings['enable_table_search'] : false;
        $table_filter = (typeof($tableSettings['enable_table_filter']) !== "undefined" && $tableSettings['enable_table_filter'] !== null) ? $tableSettings['enable_table_filter'] : false;
        $table_sort   = (typeof($tableSettings['enable_table_sorting']) !== "undefined" && $tableSettings['enable_table_sorting'] !== null) ? $tableSettings['enable_table_sorting'] : false;

        $($tableClassId).DataTable({
            paging: $table_filter,
            searching: $table_search,
            bFilter: $table_filter,
            ordering: $table_sort,            
            // dom: 'lrtip'   
        });
  
    }; 
  
    $(window).on('elementor/frontend/init', function () {
          elementorFrontend.hooks.addAction('frontend/element_ready/wdt-table.default', wdtTableHandler);
    });
  
  })(jQuery);  